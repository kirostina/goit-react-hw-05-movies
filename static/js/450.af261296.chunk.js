"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[450],{82:function(t,e,n){n.d(e,{Bt:function(){return m},LC:function(){return h},VD:function(){return s},_k:function(){return p},h_:function(){return f}});var r=n(861),a=n(757),u=n.n(a),c=n(243),i="5e62883d384bb853659cb1443acda972";function s(t){return o.apply(this,arguments)}function o(){return(o=(0,r.Z)(u().mark((function t(e){var n,r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.Z.get("/search/movie?query=".concat(e,"&api_key=").concat(i));case 3:return n=t.sent,r=n.data,t.abrupt("return",r.results);case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function p(){return l.apply(this,arguments)}function l(){return l=(0,r.Z)(u().mark((function t(){var e,n,r,a=arguments;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:1,t.prev=1,t.next=4,c.Z.get("/trending/movie/week?api_key=".concat(i,"&page=").concat(e,"&language=en"));case 4:return n=t.sent,r=n.data,t.abrupt("return",r.results);case 9:t.prev=9,t.t0=t.catch(1);case 11:case"end":return t.stop()}}),t,null,[[1,9]])}))),l.apply(this,arguments)}function f(t){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(u().mark((function t(e){var n,r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.Z.get("/movie/".concat(e,"?api_key=").concat(i));case 3:return n=t.sent,r=n.data,t.abrupt("return",r);case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function h(t){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(u().mark((function t(e){var n,r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.Z.get("/movie/".concat(e,"/credits?api_key=").concat(i));case 3:return n=t.sent,r=n.data,t.abrupt("return",r.cast);case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function m(t){return g.apply(this,arguments)}function g(){return(g=(0,r.Z)(u().mark((function t(e){var n,r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.Z.get("/movie/".concat(e,"/reviews?api_key=").concat(i));case 3:return n=t.sent,r=n.data,t.abrupt("return",r.results);case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}c.Z.defaults.baseURL="https://api.themoviedb.org/3"},922:function(t,e,n){n.d(e,{O:function(){return i}});var r=n(689),a=n(87),u=n(184),c=function(t){var e=t.poster_path,n=t.title,r=t.vote_average,a=t.release_date,c="https://image.tmdb.org/t/p/w500"+e;return null===e&&(c="https://i.postimg.cc/MTBLYYMP/poster-not-available.jpg"),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("h1",{children:[n," ",a.slice(0,4)]}),(0,u.jsx)("img",{src:c,alt:n}),(0,u.jsxs)("p",{children:["Rating: ",r]})]})},i=function(t){var e=t.movies,n=(0,r.TH)();return(0,u.jsx)("div",{children:e&&e.map((function(t){var e=t.id,r=t.title,i=t.vote_average,s=t.poster_path,o=t.release_date;return(0,u.jsx)("div",{children:(0,u.jsx)(a.rU,{to:"/movies/".concat(e),state:{from:n},children:(0,u.jsx)(c,{title:r,poster_path:s,vote_average:i,release_date:o})})},e)}))})}},450:function(t,e,n){n.r(e),n.d(e,{default:function(){return l}});var r=n(433),a=n(439),u=n(87),c=n(791),i=n(82),s=n(184),o=function(t){var e=t.onSubmit,n=(0,u.lr)(),r=(0,a.Z)(n,2),i=r[0],o=r[1],p=(0,c.useState)((function(){var t;return null!==(t=i.get("quey"))&&void 0!==t?t:""})),l=(0,a.Z)(p,2),f=l[0],v=l[1];return(0,s.jsxs)("form",{action:"",onSubmit:function(t){t.preventDefault(),""!==f.trim()&&(e(f),o({query:f}),v(""))},children:[(0,s.jsx)("input",{type:"text",name:"search",onChange:function(t){return v(t.target.value)},value:f,autoComplete:"off",autoFocus:!0,placeholder:"Search movies"}),(0,s.jsx)("button",{type:"submit",children:"Search"})]})},p=n(922),l=function(){var t=(0,u.lr)(),e=(0,a.Z)(t,1)[0],n=(0,c.useState)((function(){var t;return null!==(t=e.get("query"))&&void 0!==t?t:""})),l=(0,a.Z)(n,2),f=l[0],v=l[1],h=(0,c.useState)(null),d=(0,a.Z)(h,2),m=d[0],g=d[1];return(0,c.useEffect)((function(){""!==f&&(0,i.VD)(f).then((function(t){g((0,r.Z)(t))}))}),[f]),(0,s.jsxs)("main",{children:[(0,s.jsx)(o,{onSubmit:function(t){if(""===t)return alert("\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0434\u0430\u043d\u0456 \u0434\u043b\u044f \u043f\u043e\u0448\u0443\u043a\u0443");v(t)}}),(0,s.jsx)(p.O,{movies:m})]})}}}]);
//# sourceMappingURL=450.af261296.chunk.js.map